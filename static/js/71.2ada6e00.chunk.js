"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[71],{2071:function(n,e,t){t.r(e),t.d(e,{default:function(){return Pn}});var r,i,o,a,s,c,u=t(9439),d=t(2791),l=t(9434),p=t(4270),h=t(5036),m=t(6916),f=function(n){return n.filter},x=function(n){return n.contacts.items},g=function(n){return n.contacts.isLoading},b=function(n){return n.contacts.error},j=(0,m.P1)([x,f],(function(n,e){var t=e.toLowerCase();return n.filter((function(n){return n.name.toLowerCase().includes(t)}))})),Z=t(6355),v=t(9126),z=t(5218),w=t(5984),y=t(168),C=t(6088),S=t(8445),k=t(1607),A=C.Z.form(r||(r=(0,y.Z)(["\n    display: flex;\n    flex-direction: column;\n    gap: ","px;\n\n    text-align: center;\n"])),(function(n){return n.theme.space[4]})),T=C.Z.label(i||(i=(0,y.Z)(["\n    position: relative;   \n    width: 100%;\n    text-align: left;\n    font-size: ",";\n\n    :focus-within{\n        color: ",";\n    }\n"])),(function(n){return k.r.fontSizes.s}),(function(n){return n.theme.colors.accent})),q=C.Z.input(o||(o=(0,y.Z)(["\n    margin-top: ","px; \n    padding-top: ","px;\n    padding-bottom: ","px;\n    padding-left: 26px;\n    padding-right: ","px;\n    width: 100%;\n    border: 1px solid rgba(33, 33, 33, 0.2);\n    border-radius: ",";\n\n    font: inherit;\n    font-size: ",";\n\n    background-color: #fff;\n\n    ::placeholder {\n        font-size: ",";\n    }\n"])),(function(n){return n.theme.space[1]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.radii.normal}),(function(n){return k.r.fontSizes.m}),(function(n){return k.r.fontSizes.s})),I=C.Z.div(a||(a=(0,y.Z)(["\n    position: absolute;\n    top: 30px;\n    left: ","px;\n"])),(function(n){return n.theme.space[3]})),_=(0,C.Z)(S.O)(s||(s=(0,y.Z)(["\n    display: flex;\n    align-items: center;;\n    gap: ","px;\n    margin: 0 auto;\n    padding-top: ","px;\n    padding-bottom: ","px;\n    padding-left: ","px;\n    padding-right: ","px;\n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[4]})),W=C.Z.p(c||(c=(0,y.Z)(["\n    color: ",";\n"])),(function(n){return n.theme.colors.error})),F=t(5705),N=t(2797),P=t(2007),E=t.n(P),L=t(111),R=t(184),B=N.Ry().shape({name:N.Z_().min(2,"Too Short!").max(50,"Too Long!").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").required("Name is required"),number:N.Z_().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required("Number is required")}),G=function(n){var e=n.onAdd,t=(0,l.v9)(x),r=(0,l.I0)(),i=(0,F.TA)({initialValues:{name:"",number:""},validationSchema:B,onSubmit:function(n,i){var o=n.name,a=n.number,s=i.resetForm;console.log(o,a);var c=o.toLowerCase(),u=t.find((function(n){return n.name.toLowerCase()===c}));if(u)return(0,z.ZP)("".concat(o," is already in contacts."),{icon:"\u2139\ufe0f"});var d={name:o,number:a};r((0,h.uK)(d)),z.ZP.success("Contact added!"),e(),s()}}),o=i.values,a=i.errors,s=i.touched,c=i.handleBlur,u=i.handleChange,d=i.handleSubmit,p=(0,w.x0)(),m=(0,w.x0)();return(0,R.jsxs)(A,{onSubmit:d,children:[(0,R.jsx)(L.x,{fontSize:k.r.fontSizes.l,fontWeight:k.r.fontWeights.bold,as:"strong",children:"Create new contact"}),(0,R.jsxs)(T,{htmlFor:p,children:["Name",(0,R.jsx)(I,{children:(0,R.jsx)(Z.dfI,{size:15})}),(0,R.jsx)(q,{type:"text",name:"name",id:p,value:o.name,placeholder:"Alexander Repeta",onChange:u,onBlur:c}),a.name&&s.name&&(0,R.jsx)(W,{children:a.name})]}),(0,R.jsxs)(T,{htmlFor:m,children:["Phone number",(0,R.jsx)(I,{children:(0,R.jsx)(Z.DNl,{size:14})}),(0,R.jsx)(q,{type:"tel",name:"number",id:m,value:o.number,placeholder:"+38-(012)-345-67-89",onChange:u,onBlur:c}),a.number&&s.number&&(0,R.jsx)(W,{children:a.number})]}),(0,R.jsxs)(_,{type:"submit",children:["Add contact",(0,R.jsx)(v.im1,{})]})]})},U=G;G.propsType={onAdd:E().func.isRequired};var V,D,M,H,J,K,O,$=t(4164),Y=C.Z.div(V||(V=(0,y.Z)(["\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    max-width: ",";\n    min-width: ",";\n    padding: ","px;\n    background-color: ",";\n    border-radius: ",";\n    box-shadow: ",";\n    "])),(function(n){return n.theme.sizes.mediumWidth}),(function(n){return n.theme.sizes.minWidth}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.colors.white}),(function(n){return n.theme.radii.box}),(function(n){return n.theme.shadows.box})),Q=document.querySelector("#modal-root"),X=function(n){var e=n.onClose,t=n.children;(0,d.useEffect)((function(){var n=function(n){"Escape"===n.code&&(console.log("\u041d\u0430\u0436\u0430\u043b\u0438 ESC, \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0430\u043b\u043a\u0443"),e())};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[e]);return(0,$.createPortal)((0,R.jsx)(L.x,{position:"fixed",top:0,left:0,zIndex:"10",width:"100vw",height:"100vh",bg:"rgba(0, 0, 0, 0.5)",onClick:function(n){console.log("\u041a\u043b\u0438\u043a\u043d\u0443\u043b\u0438 \u0432 \u0431\u0435\u043a\u0434\u0440\u043e\u043f"),n.currentTarget===n.target&&e()},children:(0,R.jsx)(Y,{children:t})}),Q)},nn=C.Z.form(D||(D=(0,y.Z)(["\n    display: flex;\n    flex-direction: column;\n    gap: ","px;\n\n    text-align: center;\n"])),(function(n){return n.theme.space[4]})),en=C.Z.label(M||(M=(0,y.Z)(["\n    position: relative;   \n    width: 100%;\n    text-align: left;\n    font-size: ",";\n\n    :focus-within{\n        color: ",";\n    }\n"])),(function(n){return k.r.fontSizes.s}),(function(n){return n.theme.colors.accent})),tn=C.Z.input(H||(H=(0,y.Z)(["\n    margin-top: ","px; \n    padding-top: ","px;\n    padding-bottom: ","px;\n    padding-left: 26px;\n    padding-right: ","px;\n    width: 100%;\n    border: 1px solid rgba(33, 33, 33, 0.2);\n    border-radius: ",";\n\n    font: inherit;\n    font-size: ",";\n\n    background-color: #fff;\n\n    ::placeholder {\n        font-size: ",";\n    }\n"])),(function(n){return n.theme.space[1]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.radii.normal}),(function(n){return k.r.fontSizes.m}),(function(n){return k.r.fontSizes.s})),rn=C.Z.div(J||(J=(0,y.Z)(["\n    position: absolute;\n    top: 30px;\n    left: ","px;\n"])),(function(n){return n.theme.space[3]})),on=(0,C.Z)(S.O)(K||(K=(0,y.Z)(["\n    display: flex;\n    align-items: center;;\n    gap: ","px;\n    margin: 0 auto;\n    padding-top: ","px;\n    padding-bottom: ","px;\n    padding-left: ","px;\n    padding-right: ","px;\n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[4]})),an=C.Z.p(O||(O=(0,y.Z)(["\n    color: ",";\n"])),(function(n){return n.theme.colors.error})),sn=N.Ry().shape({name:N.Z_().min(2,"Too Short!").max(50,"Too Long!").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").required("Name is required"),number:N.Z_().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required("Number is required")}),cn=function(n){var e=n.onUpdate,t=n.id,r=(0,l.v9)(x),i=(0,l.I0)(),o=r.filter((function(n){return n.id===t})),a=(0,F.TA)({initialValues:{name:o[0].name,number:o[0].number},validationSchema:sn,onSubmit:function(n,r){var o=n.name,a=n.number,s=r.resetForm;console.log(o,a);var c={id:t,name:o,number:a};i((0,h.Tk)(c)),z.ZP.success("Contact updated"),e(),s()}}),s=a.values,c=a.errors,u=a.touched,d=a.handleBlur,p=a.handleChange,m=a.handleSubmit,f=(0,w.x0)(),g=(0,w.x0)();return(0,R.jsxs)(nn,{onSubmit:m,children:[(0,R.jsx)(L.x,{fontSize:k.r.fontSizes.l,fontWeight:k.r.fontWeights.bold,as:"strong",children:"Enter your changes"}),(0,R.jsxs)(en,{htmlFor:f,children:["Name",(0,R.jsx)(rn,{children:(0,R.jsx)(Z.dfI,{size:15})}),(0,R.jsx)(tn,{type:"text",name:"name",id:f,value:s.name,placeholder:"Alexander Repeta",onChange:p,onBlur:d}),c.name&&u.name&&(0,R.jsx)(an,{children:c.name})]}),(0,R.jsxs)(en,{htmlFor:g,children:["Phone number",(0,R.jsx)(rn,{children:(0,R.jsx)(Z.DNl,{size:14})}),(0,R.jsx)(tn,{type:"tel",name:"number",id:g,value:s.number,placeholder:"+38-(012)-345-67-89",onChange:p,onBlur:d}),c.number&&u.number&&(0,R.jsx)(an,{children:c.number})]}),(0,R.jsx)(on,{type:"submit",children:"Update"})]})},un=cn;cn.propsType={onUpdate:E().func.isRequired};var dn,ln,pn,hn,mn,fn,xn,gn,bn=t(2609),jn=C.Z.img(dn||(dn=(0,y.Z)(["\n    border-radius: 50%;\n    overflow: hidden;\n    background-color: #f4f4f4;\n    width: 50px;\n"]))),Zn=C.Z.p(ln||(ln=(0,y.Z)(["\n    display: flex;\n    align-items: center;\n    gap: ","px;\n"])),(function(n){return n.theme.space[2]})),vn=C.Z.p(pn||(pn=(0,y.Z)(["\n    display: flex;\n    align-items: center;\n    gap: ","px;\n"])),(function(n){return n.theme.space[2]})),zn=t(8820),wn=t(6856),yn=t(1578),Cn=function(n){var e=n.id,t=n.name,r=n.number,i=(0,l.I0)(),o=(0,d.useState)(!1),a=(0,u.Z)(o,2),s=a[0],c=a[1],p=function(){return c((function(n){return!n}))};return(0,R.jsxs)(L.x,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,R.jsxs)(L.x,{display:"flex",alignItems:"center",gridGap:3,children:[(0,R.jsx)(jn,{src:"https://cdn-icons-png.flaticon.com/512/2922/2922506.png",alt:"avatar"}),(0,R.jsxs)(L.x,{display:"flex",flexDirection:"column",alignItems:"flex-start",gridGap:2,children:[(0,R.jsxs)(Zn,{children:[(0,R.jsx)(v.HHm,{}),t]}),(0,R.jsxs)(vn,{children:[(0,R.jsx)(wn.REU,{}),r]})]})]}),(0,R.jsxs)(L.x,{display:"flex",alignItems:"center",gridGap:2,children:[(0,R.jsx)(bn.z,{type:"button",children:(0,R.jsx)(yn.ri8,{size:18})}),(0,R.jsx)(bn.z,{type:"button",onClick:p,"aria-label":"Edit contact",children:(0,R.jsx)(wn.mM_,{size:18})}),(0,R.jsx)(bn.z,{type:"button",onClick:function(){return i((0,h.GK)(e))},children:(0,R.jsx)(zn.VPh,{size:18})})]}),s&&(0,R.jsx)(X,{onClose:p,children:(0,R.jsx)(un,{onUpdate:p,id:e})})]})},Sn=C.Z.ul(hn||(hn=(0,y.Z)(["\n    position: relative;\n    min-width: ",";\n    max-width: ",";\n    margin-left: auto;\n    margin-right: auto;\n    background-color: ",";\n    padding: ","px;\n    padding-top: ","px;\n    padding-bottom: ","px;\n    border-radius: ",";\n    box-shadow: ",";\n\n    text-align: center;\n"])),(function(n){return n.theme.sizes.minWidth}),(function(n){return n.theme.sizes.mediumWidth}),(function(n){return n.theme.colors.white}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.radii.box}),(function(n){return n.theme.shadows.box})),kn=C.Z.li(mn||(mn=(0,y.Z)(["\n    width: 100%;\n    padding-top: ","px;\n    padding-bottom: ","px;\n    padding-left: ","px;\n    padding-right: ","px;\n    \n    font-size: ",";\n\n    transform: scale(1);\n    transition: ",";\n\n    :not(:first-of-type){\n       border-top: ","; \n    }\n\n    :hover{\n        position: absolute;\n        transform: scale(1.02);\n        width: 100%;\n        right: 0;\n        z-index: 2;\n        padding: ","px;\n        padding-top: ","px;\n        padding-bottom: ","px;\n        \n        border-top: ","; \n        border-radius: ",";\n        box-shadow: ",";\n\n        background-color: ",";\n    } \n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[0]}),(function(n){return n.theme.space[0]}),(function(n){return n.theme.fontSizes.m}),(function(n){return n.theme.transition.main}),(function(n){return n.theme.borders.normal}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.borders.none}),(function(n){return n.theme.radii.box}),(function(n){return n.theme.shadows.box}),(function(n){return n.theme.colors.white})),An=function(){var n=(0,l.v9)(j);return(0,R.jsx)(R.Fragment,{children:n.length>0?(0,R.jsx)(Sn,{children:n.map((function(n){var e=n.id,t=n.name,r=n.number;return(0,R.jsx)(kn,{children:(0,R.jsx)(Cn,{id:e,name:t,number:r})},e)}))}):(0,R.jsx)(Sn,{children:"There are no contacts"})})},Tn=t(5653),qn=C.Z.label(fn||(fn=(0,y.Z)(["\n    position: relative;\n    width: 100%;\n"]))),In=C.Z.input(xn||(xn=(0,y.Z)(["\n    margin-top: ","px; \n    padding-top: ","px;\n    padding-bottom: ","px;\n    padding-left: 26px;\n    padding-right: ","px;\n    width: 100%;\n    font: inherit;\n    border: 1px solid rgba(33, 33, 33, 0.2);\n    border-radius: ",";\n    \n    background-color: inherit;\n\n    transition: ",";\n\n    ::placeholder {\n        font-size: ",";\n    }\n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.radii.normal}),(function(n){return n.theme.transition.main}),(function(n){return n.theme.fontSizes.s})),_n=C.Z.div(gn||(gn=(0,y.Z)(["\n    position: absolute;\n    top: 15px;\n    left: ","px;\n"])),(function(n){return n.theme.space[3]})),Wn=t(3728),Fn=function(n){var e=n.onClick,t=(0,l.v9)(f),r=(0,l.I0)();return(0,R.jsxs)(L.x,{minWidth:k.r.sizes.minWidth,mb:3,mx:"auto",p:3,textAlign:"left",maxWidth:k.r.sizes.mediumWidth,display:"flex",alignItems:"center",justifyContaent:"center",gridGap:[2,2,3],borderRadius:k.r.radii.box,boxShadow:k.r.shadows.box,backgroundColor:k.r.colors.white,children:[(0,R.jsxs)(qn,{htmlFor:"",children:[(0,R.jsx)(_n,{children:(0,R.jsx)(Wn.Vph,{size:17})}),(0,R.jsx)(In,{type:"text",value:t,placeholder:"Search by name",onChange:function(n){r((0,Tn.T)(n.currentTarget.value))}})]}),(0,R.jsx)(bn.z,{onClick:e,"aria-label":"Add contact",children:(0,R.jsx)(v.im1,{size:18})})]})};Fn.propsType={onClick:E().func.isRequired};var Nn=t(854);function Pn(){var n=(0,l.I0)(),e=(0,l.v9)(g),t=(0,l.v9)(b),r=(0,d.useState)(!1),i=(0,u.Z)(r,2),o=i[0],a=i[1],s=function(){return a((function(n){return!n}))};(0,d.useEffect)((function(){n((0,h.yF)()),t&&z.ZP.error("No response from server!")}),[n,t]);var c=e&&!t;return(0,R.jsxs)(L.x,{p:"16px 0",as:"main",children:[(0,R.jsx)(p.q,{children:(0,R.jsx)("title",{children:"Your contacts"})}),(0,R.jsx)(Fn,{onClick:s}),c?(0,R.jsx)(Nn.a,{}):(0,R.jsx)(An,{}),o&&(0,R.jsx)(X,{onClose:s,children:(0,R.jsx)(U,{onAdd:s})})]})}}}]);
//# sourceMappingURL=71.2ada6e00.chunk.js.map